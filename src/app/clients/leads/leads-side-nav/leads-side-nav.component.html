<div class="list-filter pr-2">
  <div class="accordion" id="accordionExample">
    <form (ngSubmit)="submit()">
      <div class="card">
        <div class="card-header" id="headingTop2">
          <h2 class="mb-0">
            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseTop2"
              aria-expanded="true" aria-controls="collapseTop2">
              General
            </button>
          </h2>
        </div>

        <div id="collapseTop2" class="collapse" aria-labelledby="headingTop2" data-parent="#accordionExample">
          <div class="card-body">
            <div class="custom-control custom-checkbox">
              <input type="checkbox" class="custom-control-input" id="isNew" (change)="processCheckbox('isNew')"
                [checked]="filterOptionsFlags?.isNew">
              <label class="custom-control-label" for="isNew">New</label>
            </div>
            <div class="custom-control custom-checkbox">
              <input type="checkbox" class="custom-control-input" id="needsAttention"
                (change)="processCheckbox('needsAttention')"
                [checked]="filterOptionsFlags?.needsAttention">
              <label class="custom-control-label" for="needsAttention">Needs Attention</label>
            </div>
            <div class="custom-control custom-checkbox">
              <input type="checkbox" class="custom-control-input" value="true" id="hasInboundEmail"
                (change)="processCheckbox('hasInboundEmail')"
                [checked]="filterOptionsFlags?.hasInboundEmail">
              <label class="custom-control-label" for="hasInboundEmail">Inbound Emails</label>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header" id="headingOne">
          <h2 class="mb-0">
            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne"
              aria-expanded="true" aria-controls="collapseOne">
              Profile Score
            </button>
          </h2>
        </div>

        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
          <div class="card-body">
            <div class="d-flex row">
              <div class="col">
                <input type="text" placeholder="Min." class="nate-input border"
                  value="{{selectedOptions.profileScore?.min}}"
                  (input)="processRange('profileScore', 'from', $event.target.value)" />
              </div>
              <div class="col">
                <input type="text" placeholder="Max." class="nate-input border"
                  value="{{selectedOptions.profileScore?.max}}"
                  (input)="processRange('profileScore', 'to', $event.target.value)" />
              </div>
              <!--<p style="margin: 0" class="input-label-perc">%</p>-->
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="card">
        <div class="card-header" id="headingTwo">
          <h2 class="mb-0">
            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo"
              aria-expanded="false" aria-controls="collapseTwo">
              Winning Probability
            </button>
          </h2>
        </div>
        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
          <div class="card-body">
            <div class="d-flex row">
              <div class="col">
                <input type="text" placeholder="Min." class="nate-input border"
                  value="{{selectedOptions.winningProbability?.min}}"
                  (input)="processRange('winningProbability', 'from', $event.target.value)" />
              </div>
              <div class="col">
                <input type="text" placeholder="Max." class="nate-input border"
                  value="{{selectedOptions.winningProbability?.max}}"
                  (input)="processRange('winningProbability', 'to', $event.target.value)" />
              </div>
            </div>
          </div>
        </div>
      </div> -->
      <div class="card">
        <div class="card-header" id="headingThree">
          <h2 class="mb-0">
            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree"
              aria-expanded="false" aria-controls="collapseThree">
              Lead Owner
            </button>
          </h2>
        </div>
        <div id="collapseThree" class="collapse " aria-labelledby="headingThree" data-parent="#accordionExample">
          <div class="card-body">
            <div class="custom-control custom-checkbox" *ngFor="let owner of convertObjectToArray(filterOptions.owner)">
              <input type="checkbox" class="custom-control-input" id="{{owner.id}}" value="{{owner.id}}"
                (change)="processCheckboxGroup('owner', owner)" [checked]="filterOptionsFlags[owner.id]" />
              <label class="custom-control-label" for="{{owner.id}}">{{owner.name}}</label>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header" id="heading6">
          <h2 class="mb-0">
            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse6"
              aria-expanded="false" aria-controls="collapse6">
              Lead Source
            </button>
          </h2>
        </div>
        <div id="collapse6" class="collapse" aria-labelledby="heading6" data-parent="#accordionExample">
          <div class="card-body">
            <div class="custom-control custom-checkbox"
              *ngFor="let source of convertObjectToArray(filterOptions.source)">
              <input type="checkbox" class="custom-control-input" id="{{source.id}}" value="{{source.name}}"
                (change)="processCheckboxGroup('source', source)" [checked]="filterOptionsFlags[source.id]" />
              <label class="custom-control-label" for="{{source.id}}">{{source.name}}</label>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header" id="heading8">
          <h2 class="mb-0">
            <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse8"
              aria-expanded="false" aria-controls="collapse8">
              Creation date
            </button>
          </h2>
        </div>
        <div id="collapse8" class="collapse " aria-labelledby="headingThree" data-parent="#accordionExample">
          <div class="card-body ">
            <div>
              <div class="custom-control pl-1 pr-1">
                <input
                placeholder='DD/MM/YY'
                type="text"
                id="date"
                class="nate-input border w-100 pl-2"
                
                (bsValueChange)="processRange('createdAt', 'from', $event, true)"
                [bsConfig]="bsConfig"
                #dp="bsDatepicker"
                bsDatepicker
                value="{{selectedOptions.createdOn?.min}}"
              />

      
              </div>

              <div class="custom-control pl-1 pr-1">
                <input
                placeholder='DD/MM/YY'
                type="text"
                id="date2"
                class="nate-input border w-100 pl-2"
                
                (bsValueChange)="processRange('createdAt', 'to', $event, true)"
                [bsConfig]="bsConfig"
                #dp="bsDatepicker"
                bsDatepicker
                value="{{selectedOptions.createdOn?.max}}"
              />
              
           
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header" id="heading6">
          <h2 class="mb-0">
            <button class="btn btn-link collapsed" type="button">
              Custom Filters
            </button>
          </h2>
        </div>
        <div>
          <div class="card-body">
            <div *ngIf="customFilterMessage" class="alert alert-secondary">
              {{customFilterMessage}}
            </div>
            <div class="custom-control custom-radio" *ngFor="let myFilter of convertObjectToArray(myFilters)">
              <input type="radio" id="{{myFilter.id}}" [checked]="isSelected(myFilter.id)" name="customRadio" class="custom-control-input"
                (change)="processCustomFilter(myFilter.id)">
              <label class="custom-control-label" for="{{myFilter.id}}">{{myFilter.name}}</label>
              <span class="float-right text-danger is-clickable" (click)="removeCustomFilter(myFilter.id)"><b>x</b></span>
            </div>
          </div>
        </div>
      </div>
    </form>

    <div class="row mt-4 pr-1 pl-1">
      <div class="col">
        <button class="btn btn-warning w-100 rounded-0" (click)="clearForm()">Clear Filters</button>
      </div>
    </div>

    <div class="row mt-4 pr-1 pl-1">
      <div class="col d-flex justify-content-center">
        <button class="btn btn-primary w-100 rounded-0 shadow" data-toggle="modal"
          data-target="#exampleModalCenter">{{selectedCustomFilter ? 'Update Filter' : 'Create Filter'}}</button>
      </div>

      <!-- Modal -->
      <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">
                {{filterOptions.id === undefined ? 'Save Filter' : 'Update Filter'}}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col">
                  <div *ngIf="filterModificationMessage" class="alert alert-secondary">
                    {{filterModificationMessage}}
                  </div>
                  <input type="text" placeholder="Enter name" class="nate-input border"
                    (input)="processFilterName($event.target.value)"
                    value="{{customName === undefined? '' : customName}}" />
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary"
                (click)="submitCustomFilter()">{{filterOptions.id === undefined ? 'Save Filter' : 'Update Filter'}}</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </div>
</div>